# FILE: XPTtoCSV.R
# DESC: Convert XPT domain file to CSV
# SRC :
# IN  :
# OUT :
# REQ :
# SRC :
# NOTE: Some imputed values to match ontology development requirements.
# TODO:
###############################################################################
library(Hmisc)
# Set working directory to the root of the work area
setwd("C:/_github/CTDasRDF")
readXPT<-function(domain)
{
sourceFile <- paste0("data/source/", domain, ".XPT")
result <- sasxport.get(sourceFile)
result  # return the dataframe
}
vs  <- readXPT("vs")  # first row only for initial testing.
write.csv(ts, file="data/source/vs_new.csv",
row.names = F)
vs  <- readXPT("vs_old")  # first row only for initial testing.
write.csv(vs, file="data/source/vs_old.csv",
row.names = F)
vs  <- readXPT("vs")  # first row only for initial testing.
write.csv(vs, file="data/source/vs_new.csv",
row.names = F)
# Subsetting to allow incremental dev
pntSubset<-c('01-701-1015') # List of usubjid's to process.
setwd("C:/_github/CTDasRDF")
readXPT<-function(domain)
{
sourceFile <- paste0("data/source/", domain, ".XPT")
result <- sasxport.get(sourceFile)
result  # return the dataframe
}
# SUPPDM ----
suppdm  <- readXPT("suppdm")
#subset for development
suppdm <- suppdm[suppdm$usubjid %in% pntSubset,]
write.csv(suppdm, file="data/source/SUPPDM_subset.csv",
row.names = F)
