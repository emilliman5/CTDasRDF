###############################################################################
# FILE: invest_mappings.ttl
# DESC: Stardog SMS Template file for mapping investigator and site data  
# REQ : 
# SRC : 
# IN  : invest_imputed.CSV : values not in the orignal data, used for testing
#       the model.
# OUT : 
# NOTE: stardog-admin virtual import CTDasRDF invest_mappings.TTL invest_imputed.csv
#  Export to TTL: stardog data export --format TURTLE CTDasRDF C:/temp/test.ttl
#  
#  
# TODO: 
###############################################################################
@prefix cd01p: <https://raw.githubusercontent.com/phuse-org/CTDasRDF/master/data/rdf/cdiscpilot01-protocol.ttl#> .
@prefix cdiscpilot01: <https://raw.githubusercontent.com/phuse-org/CTDasRDF/master/data/rdf/cdiscpilot01.ttl#> .
@prefix code: <https://raw.githubusercontent.com/phuse-org/CTDasRDF/master/data/rdf/code.ttl#> .
@prefix custom: <https://raw.githubusercontent.com/phuse-org/CTDasRDF/master/data/rdf/custom#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sdtmterm: <http://rdf.cdisc.org/sdtmterm#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix study: <https://raw.githubusercontent.com/phuse-org/CTDasRDF/master/data/rdf/study.ttl#> .
@prefix time: <http://www.w3.org/2006/time#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# -----------------------------------------------------------------------------
# Site
cd01p:Site_{siteid}
  study:hasInvestigator cdiscpilot01:Investigator_{investID} ;
.

cdiscpilot01:Investigator_{investID}
  rdf:type study:Investigator ;
  skos:prefLabel "Investigator {investID}"^^xsd:string ;
  study:hasInvestigatorID cdiscpilot01:InvestigatorIdentifier_{investID} ;
  study:hasLastName "{investLN}"^^xsd:string ;
.

# Can this second set of triples be removed: combined with those above?
cdiscpilot01:InvestigatorIdentifier_{investID}
  rdf:type study:InvestigatorIdentifier ;
  skos:prefLabel "{investID}"^^xsd:string ;
.


